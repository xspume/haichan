/* Font Families for Blog Theming + Serif for Aquatic 90s Aesthetic */
@import url('https://fonts.googleapis.com/css2?family=Courier+Prime:ital,wght@0,400;0,700;1,400&family=Fira+Code:wght@300..700&family=IBM+Plex+Mono:ital,wght@0,100..700;1,100..700&family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=Roboto+Slab:wght@100..900&family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&family=VT323&family=Comic+Neue:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Fredoka+One&family=Permanent+Marker&family=Righteous&family=Cabin+Sketch:wght@400;700&family=Crimson+Text:ital,wght@0,400;0,600;1,400;1,600&display=swap');


@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Haichan Dark - Black/Grey/Green/Pink */
    
    --background: 0 0% 4%; /* near-black #0a0a0a */
    --foreground: 0 0% 75%; /* light grey text */
    --card: 0 0% 8%; /* dark grey */
    --card-foreground: 0 0% 80%;
    --primary: 120 70% 45%; /* kelly green */
    --primary-foreground: 0 0% 0%;
    --secondary: 0 0% 15%; /* dark grey */
    --secondary-foreground: 0 0% 70%;
    --muted: 0 0% 12%;
    --muted-foreground: 0 0% 50%;
    --accent: 350 70% 75%; /* light pink */
    --accent-foreground: 0 0% 0%;
    --border: 0 0% 20%;
    --input: 0 0% 10%;
    --ring: 120 70% 45%;
    
    --radius: 0px;
    
    --font-sans: 'Arial', 'Helvetica', sans-serif;
    --font-mono: 'IBM Plex Mono', 'JetBrains Mono', 'Fira Code', monospace;
    --font-serif: 'Crimson Text', 'Times New Roman', serif;
    
    --shadow-3d: none;
    --shadow-3d-sm: none;
    --shadow-3d-lg: none;
    
    --sidebar-background: 0 0% 6%;
    --sidebar-foreground: 0 0% 75%;
    --sidebar-primary: 120 70% 45%;
    --sidebar-primary-foreground: 0 0% 0%;
    
    /* Green spectrum for charts */
    --chart-1: 120 70% 45%; /* Kelly green */
    --chart-2: 120 60% 60%; /* Light green */
    --chart-3: 120 80% 35%; /* Dark green */
    --chart-4: 350 70% 75%; /* Light pink */
    --chart-5: 0 0% 50%; /* Grey */
    
    /* Custom colors for the green spectrum */
    --green-dark: 120 80% 25%;
    --green-kelly: 120 70% 45%;
    --green-light: 120 55% 65%;
    --green-pale: 120 40% 80%;
    --pink-light: 350 70% 80%;
    
    /* Extended Palette */
    --subject: 120 70% 45%;
    --name: 150 75% 25%;
    --link: 220 60% 50%;
    --backlink: 30 80% 50%;
    --quote: 120 50% 40%;
    --side-bg: 0 0% 6%;
    --side-border: 120 70% 20%;
  }

  /* Yotsuba (Light/Orange) */
  [data-theme="yotsuba"] {
    --background: 35 30% 96%; /* Cream */
    --foreground: 0 0% 10%; /* Dark Text */
    
    --card: 35 30% 90%; /* Slightly darker cream */
    --card-foreground: 0 0% 10%;
    
    --popover: 35 30% 98%;
    --popover-foreground: 0 0% 10%;
    
    --primary: 25 90% 50%; /* Orange */
    --primary-foreground: 0 0% 100%;
    
    --secondary: 35 30% 85%;
    --secondary-foreground: 0 0% 10%;
    
    --muted: 35 10% 80%;
    --muted-foreground: 0 0% 40%;
    
    --accent: 25 90% 50%;
    --accent-foreground: 0 0% 100%;
    
    --border: 25 30% 80%;
    --input: 35 30% 98%;
    --ring: 25 90% 50%;
    
    --radius: 0.25rem;
    
    --sidebar-background: 35 30% 92%;
    --sidebar-foreground: 0 0% 10%;
  }

  /* Yotsuba B (Blue/Grey) */
  [data-theme="yotsuba-b"] {
    --background: 210 10% 90%; /* Light Blue-Grey */
    --foreground: 0 0% 10%;
    
    --card: 210 10% 85%;
    --card-foreground: 0 0% 10%;
    
    --popover: 210 10% 95%;
    --popover-foreground: 0 0% 10%;
    
    --primary: 220 60% 50%; /* Classic Blue */
    --primary-foreground: 0 0% 100%;
    
    --secondary: 210 10% 80%;
    --secondary-foreground: 0 0% 10%;
    
    --muted: 210 5% 70%;
    --muted-foreground: 0 0% 40%;
    
    --accent: 220 60% 50%;
    --accent-foreground: 0 0% 100%;
    
    --border: 210 10% 75%;
    --input: 210 10% 95%;
    --ring: 220 60% 50%;
    
    --radius: 0.25rem;
    
    --sidebar-background: 210 10% 88%;
    --sidebar-foreground: 0 0% 10%;
  }

  /* Burichan (Classic Blue) */
  [data-theme="burichan"] {
    --background: 220 20% 95%;
    --foreground: 220 50% 15%;
    --card: 220 20% 90%;
    --card-foreground: 220 50% 15%;
    --popover: 220 20% 98%;
    --popover-foreground: 220 50% 15%;
    --primary: 220 60% 40%;
    --primary-foreground: 220 10% 98%;
    --secondary: 220 30% 80%;
    --secondary-foreground: 220 50% 15%;
    --muted: 220 10% 85%;
    --muted-foreground: 220 20% 40%;
    --accent: 220 60% 40%;
    --accent-foreground: 220 10% 98%;
    --border: 220 30% 70%;
    --input: 220 10% 98%;
    --ring: 220 60% 40%;
    --radius: 0.5rem;
    --sidebar-background: 220 20% 92%;
    --sidebar-foreground: 220 50% 15%;
  }

  /* Futaba (Classic Green) */
  [data-theme="futaba"] {
    --background: 100 20% 95%;
    --foreground: 100 50% 15%;
    --card: 100 20% 90%;
    --card-foreground: 100 50% 15%;
    --popover: 100 20% 98%;
    --popover-foreground: 100 50% 15%;
    --primary: 120 50% 30%;
    --primary-foreground: 100 10% 98%;
    --secondary: 100 30% 80%;
    --secondary-foreground: 100 50% 15%;
    --muted: 100 10% 85%;
    --muted-foreground: 100 20% 40%;
    --accent: 120 50% 30%;
    --accent-foreground: 100 10% 98%;
    --border: 100 30% 70%;
    --input: 100 10% 98%;
    --ring: 120 50% 30%;
    --radius: 0.5rem;
    --sidebar-background: 100 20% 92%;
    --sidebar-foreground: 100 50% 15%;
  }

  /* Tomorrow (Slate Dark) */
  [data-theme="tomorrow"] {
    --background: 222 47% 11%;
    --foreground: 213 31% 91%;
    --card: 222 47% 8%;
    --card-foreground: 213 31% 91%;
    --popover: 222 47% 5%;
    --popover-foreground: 213 31% 91%;
    --primary: 210 40% 61%;
    --primary-foreground: 222 47% 11%;
    --secondary: 222 47% 20%;
    --secondary-foreground: 213 31% 91%;
    --muted: 222 47% 25%;
    --muted-foreground: 215 20% 65%;
    --accent: 210 40% 61%;
    --accent-foreground: 222 47% 11%;
    --border: 222 47% 30%;
    --input: 222 47% 15%;
    --ring: 210 40% 61%;
    --radius: 0.75rem;
    --sidebar-background: 222 47% 9%;
    --sidebar-foreground: 213 31% 91%;
  }

  /* Paper (Minimalist Light) */
  [data-theme="paper"] {
    --background: 0 0% 95%;
    --foreground: 0 0% 20%;
    --card: 0 0% 90%;
    --card-foreground: 0 0% 20%;
    --popover: 0 0% 92%;
    --popover-foreground: 0 0% 20%;
    --primary: 0 0% 0%;
    --primary-foreground: 0 0% 95%;
    --secondary: 0 0% 85%;
    --secondary-foreground: 0 0% 20%;
    --muted: 0 0% 80%;
    --muted-foreground: 0 0% 50%;
    --accent: 0 0% 0%;
    --accent-foreground: 0 0% 95%;
    --border: 0 0% 75%;
    --input: 0 0% 90%;
    --ring: 0 0% 0%;
    --radius: 1rem;
    --sidebar-background: 0 0% 88%;
    --sidebar-foreground: 0 0% 20%;
  }

  /* Retro (Amber/Sepia) */
  [data-theme="retro"] {
    --background: 35 40% 90%;
    --foreground: 35 40% 15%;
    --card: 35 40% 85%;
    --card-foreground: 35 40% 15%;
    --popover: 35 40% 92%;
    --popover-foreground: 35 40% 15%;
    --primary: 25 80% 40%;
    --primary-foreground: 35 40% 95%;
    --secondary: 35 30% 75%;
    --secondary-foreground: 35 40% 15%;
    --muted: 35 20% 80%;
    --muted-foreground: 35 20% 40%;
    --accent: 25 80% 40%;
    --accent-foreground: 35 40% 95%;
    --border: 35 30% 70%;
    --input: 35 40% 92%;
    --ring: 25 80% 40%;
    --radius: 0.35rem;
    --sidebar-background: 35 40% 88%;
    --sidebar-foreground: 35 40% 15%;
  }

  /* Haichan (Neon Green/Black) */
  [data-theme="haichan"] {
    --background: 0 0% 0%; /* Pure Black */
    --foreground: 120 100% 50%; /* Neon Green #00FF00 */
    
    --card: 0 0% 0%;
    --card-foreground: 120 100% 50%;
    
    --popover: 0 0% 2%;
    --popover-foreground: 120 100% 50%;
    
    --primary: 120 100% 50%;
    --primary-foreground: 0 0% 0%;
    
    --secondary: 120 100% 10%;
    --secondary-foreground: 120 100% 50%;
    
    --muted: 120 20% 5%;
    --muted-foreground: 120 50% 30%;
    
    --accent: 330 100% 70%; /* Retro Pink #FF66B2 */
    --accent-foreground: 0 0% 0%;
    
    --destructive: 0 100% 50%;
    --destructive-foreground: 0 0% 0%;
    
    --border: 120 100% 30%;
    --input: 0 0% 2%;
    --ring: 120 100% 50%;
    
    --radius: 0px;
    
    --sidebar-background: 0 0% 1%;
    --sidebar-foreground: 120 100% 50%;
    
    --subject: 120 100% 60%;
    --name: 120 100% 40%;
    --link: 330 100% 70%;
  }

  /* Retro Utilities */
  .retro-border {
    border: 2px solid hsl(var(--primary));
  }
  
  .retro-border-pink {
    border: 1px solid hsl(var(--accent));
  }

  .retro-button {
    @apply border-2 border-primary bg-black text-primary font-black uppercase tracking-widest px-4 py-1 transition-all relative;
  }
  
  .retro-button::after {
    content: '';
    @apply absolute -bottom-1 -right-1 w-full h-full bg-primary -z-10 transition-all;
  }
  
  .retro-button:active {
    @apply translate-x-[1px] translate-y-[1px];
  }
  
  .retro-button:active::after {
    @apply -bottom-0.5 -right-0.5;
  }

  .retro-section-header {
    @apply flex items-center justify-between border-y-2 border-primary/40 py-2 px-2 bg-black mb-4;
  }

  .retro-card {
    @apply border-2 border-primary/20 p-4 bg-black transition-all hover:border-primary/50;
  }

  .retro-tag-pink {
    @apply bg-accent/10 border border-accent text-accent text-[10px] font-black px-2 py-0.5 flex items-center gap-1;
  }

  .retro-badge-pink {
    @apply bg-accent text-black text-[9px] font-black px-1.5 py-0.5 uppercase tracking-tighter;
  }

  /* Pink (Neon Pink/Black) */
  [data-theme="pink"] {
    --background: 0 0% 0%; /* Black */
    --foreground: 300 100% 50%; /* Neon Pink */
    
    --card: 0 0% 5%;
    --card-foreground: 300 100% 50%;
    
    --popover: 0 0% 5%;
    --popover-foreground: 300 100% 50%;
    
    --primary: 300 100% 50%;
    --primary-foreground: 0 0% 0%;
    
    --secondary: 300 100% 20%;
    --secondary-foreground: 300 100% 50%;
    
    --muted: 300 50% 10%;
    --muted-foreground: 300 50% 40%;
    
    --accent: 300 100% 50%;
    --accent-foreground: 0 0% 0%;
    
    --destructive: 0 100% 50%;
    --destructive-foreground: 0 0% 0%;
    
    --border: 300 100% 30%;
    --input: 0 0% 10%;
    --ring: 300 100% 50%;
    
    --radius: 0px;
    
    --sidebar-background: 0 0% 3%;
    --sidebar-foreground: 300 100% 50%;
  }

  /* Photon (Blue/White like r9k) */
  [data-theme="photon"] {
    --background: 200 10% 94%;
    --foreground: 210 10% 15%;
    --card: 200 10% 88%;
    --card-foreground: 210 10% 15%;
    --popover: 200 10% 96%;
    --popover-foreground: 210 10% 15%;
    --primary: 215 50% 40%;
    --primary-foreground: 0 0% 100%;
    --secondary: 200 10% 82%;
    --secondary-foreground: 210 10% 15%;
    --muted: 200 5% 75%;
    --muted-foreground: 210 5% 45%;
    --accent: 215 50% 40%;
    --accent-foreground: 0 0% 100%;
    --border: 200 10% 70%;
    --input: 200 10% 96%;
    --ring: 215 50% 40%;
    --radius: 0px;
    --sidebar-background: 200 10% 90%;
    --sidebar-foreground: 210 10% 15%;
  }

  /* Gurochan (Dark red) */
  [data-theme="gurochan"] {
    --background: 0 15% 8%;
    --foreground: 0 20% 75%;
    --card: 0 15% 12%;
    --card-foreground: 0 20% 80%;
    --popover: 0 15% 10%;
    --popover-foreground: 0 20% 80%;
    --primary: 0 60% 45%;
    --primary-foreground: 0 0% 95%;
    --secondary: 0 20% 18%;
    --secondary-foreground: 0 20% 75%;
    --muted: 0 10% 20%;
    --muted-foreground: 0 10% 50%;
    --accent: 0 60% 45%;
    --accent-foreground: 0 0% 95%;
    --border: 0 25% 25%;
    --input: 0 15% 15%;
    --ring: 0 60% 45%;
    --radius: 0px;
    --sidebar-background: 0 15% 6%;
    --sidebar-foreground: 0 20% 75%;
  }

  /* Pseud0ch (Text board classic) */
  [data-theme="pseud0ch"] {
    --background: 60 30% 96%;
    --foreground: 0 0% 20%;
    --card: 60 25% 92%;
    --card-foreground: 0 0% 15%;
    --popover: 60 30% 98%;
    --popover-foreground: 0 0% 15%;
    --primary: 210 70% 35%;
    --primary-foreground: 0 0% 100%;
    --secondary: 60 20% 85%;
    --secondary-foreground: 0 0% 20%;
    --muted: 60 15% 80%;
    --muted-foreground: 0 0% 45%;
    --accent: 0 70% 40%;
    --accent-foreground: 0 0% 100%;
    --border: 60 20% 75%;
    --input: 60 30% 98%;
    --ring: 210 70% 35%;
    --radius: 0px;
    --sidebar-background: 60 25% 93%;
    --sidebar-foreground: 0 0% 20%;
  }

  /* Terminal (Green on black, classic) */
  [data-theme="terminal"] {
    --background: 0 0% 0%;
    --foreground: 120 100% 50%;
    --card: 0 0% 5%;
    --card-foreground: 120 100% 50%;
    --popover: 0 0% 5%;
    --popover-foreground: 120 100% 50%;
    --primary: 120 100% 50%;
    --primary-foreground: 0 0% 0%;
    --secondary: 120 100% 20%;
    --secondary-foreground: 120 100% 50%;
    --muted: 120 50% 10%;
    --muted-foreground: 120 50% 40%;
    --accent: 120 100% 50%;
    --accent-foreground: 0 0% 0%;
    --destructive: 0 100% 50%;
    --destructive-foreground: 0 0% 0%;
    --border: 120 100% 30%;
    --input: 0 0% 10%;
    --ring: 120 100% 50%;
    --radius: 0px;
    --sidebar-background: 0 0% 3%;
    --sidebar-foreground: 120 100% 50%;
  }

  /* Spooky (Purple/Halloween) */
  [data-theme="spooky"] {
    --background: 270 20% 8%;
    --foreground: 40 80% 60%;
    --card: 270 20% 12%;
    --card-foreground: 40 80% 65%;
    --popover: 270 20% 10%;
    --popover-foreground: 40 80% 65%;
    --primary: 280 60% 50%;
    --primary-foreground: 0 0% 100%;
    --secondary: 270 25% 18%;
    --secondary-foreground: 40 80% 60%;
    --muted: 270 15% 20%;
    --muted-foreground: 270 10% 50%;
    --accent: 35 90% 50%;
    --accent-foreground: 0 0% 0%;
    --border: 270 30% 25%;
    --input: 270 20% 15%;
    --ring: 280 60% 50%;
    --radius: 0px;
    --sidebar-background: 270 20% 6%;
    --sidebar-foreground: 40 80% 60%;
  }

  /* Haichan (Neon Green/Black) */
  [data-theme="haichan"] {
    --background: 0 0% 0%; /* Pure Black */
    --foreground: 120 100% 50%; /* Neon Green #00FF00 */
    
    --card: 0 0% 0%;
    --card-foreground: 120 100% 50%;
    
    --popover: 0 0% 2%;
    --popover-foreground: 120 100% 50%;
    
    --primary: 120 100% 50%;
    --primary-foreground: 0 0% 0%;
    
    --secondary: 120 100% 10%;
    --secondary-foreground: 120 100% 50%;
    
    --muted: 120 20% 5%;
    --muted-foreground: 120 50% 30%;
    
    --accent: 330 100% 70%; /* Retro Pink #FF66B2 */
    --accent-foreground: 0 0% 0%;
    
    --destructive: 0 100% 50%;
    --destructive-foreground: 0 0% 0%;
    
    --border: 120 100% 30%;
    --input: 0 0% 2%;
    --ring: 120 100% 50%;
    
    --radius: 0px;
    
    --sidebar-background: 0 0% 1%;
    --sidebar-foreground: 120 100% 50%;
    
    --subject: 120 100% 60%;
    --name: 120 100% 40%;
    --link: 330 100% 70%;
  }

  /* Retro Utilities */
  .retro-border {
    border: 2px solid hsl(var(--primary));
  }
  
  .retro-border-pink {
    border: 1px solid hsl(var(--accent));
  }

  .retro-button {
    @apply border-2 border-primary bg-black text-primary font-black uppercase tracking-widest px-4 py-1 transition-all relative;
  }
  
  .retro-button::after {
    content: '';
    @apply absolute -bottom-1 -right-1 w-full h-full bg-primary -z-10 transition-all;
  }
  
  .retro-button:active {
    @apply translate-x-[1px] translate-y-[1px];
  }
  
  .retro-button:active::after {
    @apply -bottom-0.5 -right-0.5;
  }

  .retro-section-header {
    @apply flex items-center justify-between border-y-2 border-primary/40 py-2 px-2 bg-black mb-4;
  }

  .retro-card {
    @apply border-2 border-primary/20 p-4 bg-black transition-all hover:border-primary/50;
  }

  .retro-tag-pink {
    @apply bg-accent/10 border border-accent text-accent text-[10px] font-black px-2 py-0.5 flex items-center gap-1;
  }

  .retro-badge-pink {
    @apply bg-accent text-black text-[9px] font-black px-1.5 py-0.5 uppercase tracking-tighter;
  }

  /* Pink (Neon Pink/Black) */
  [data-theme="pink"] {
    --background: 0 0% 0%; /* Black */
    --foreground: 300 100% 50%; /* Neon Pink */
    
    --card: 0 0% 5%;
    --card-foreground: 300 100% 50%;
    
    --popover: 0 0% 5%;
    --popover-foreground: 300 100% 50%;
    
    --primary: 300 100% 50%;
    --primary-foreground: 0 0% 0%;
    
    --secondary: 300 100% 20%;
    --secondary-foreground: 300 100% 50%;
    
    --muted: 300 50% 10%;
    --muted-foreground: 300 50% 40%;
    
    --accent: 300 100% 50%;
    --accent-foreground: 0 0% 0%;
    
    --destructive: 0 100% 50%;
    --destructive-foreground: 0 0% 0%;
    
    --border: 300 100% 30%;
    --input: 0 0% 10%;
    --ring: 300 100% 50%;
    
    --radius: 0px;
    
    --sidebar-background: 0 0% 3%;
    --sidebar-foreground: 300 100% 50%;
  }
}

/* 4chan/Yotsuba Aesthetic */
.post-reply {
  display: inline-block;
  min-width: 400px;
  max-width: 100%;
}

.post-container {
  display: block;
}

.post-header {
  font-family: arial, helvetica, sans-serif;
}

.post-content {
  font-family: arial, helvetica, sans-serif;
  font-size: 14px;
}

.post-reply .post-content {
  margin-top: 5px;
}

.quotelink {
  color: hsl(var(--green-kelly)) !important;
  text-decoration: none !important;
}

.quotelink:hover {
  color: hsl(var(--green-light)) !important;
}

/* Redtext instead of greentext */
.greentext, .redtext {
  color: #dd4444 !important;
}

/* Yotsuba colors */
:root {
  --yotsuba-bg: 240 25% 90%; /* #f0e0d6 */
  --yotsuba-border: 240 10% 80%;
  --yotsuba-text: 0 0% 0%;
  --yotsuba-link: 240 50% 40%;
  --yotsuba-name: 150 75% 25%; /* #117743 */
  
  /* Broader palette extensions */
  --chan-bg: 35 30% 96%;
  --chan-border: 35 30% 80%;
  --chan-text: 0 0% 0%;
  --chan-link: 220 60% 50%;
  --chan-subject: 120 70% 30%;
  --chan-name: 120 70% 20%;
  --chan-stat: 0 0% 40%;
}

/* Catalog Mode Styles - 4chan inspired */
.catalog-container {
  @apply grid gap-2;
  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
}

.catalog-item {
  @apply flex flex-col items-center text-center p-1 hover:bg-primary/10 transition-colors cursor-pointer border border-transparent hover:border-primary/40 bg-black;
}

.catalog-thumb-container {
  @apply w-full aspect-square flex items-center justify-center overflow-hidden mb-1 relative bg-black border border-primary/10;
}

.catalog-thumb {
  @apply max-w-full max-h-full object-contain shadow-sm;
}

.catalog-meta {
  @apply w-full flex flex-col gap-0.5 overflow-hidden;
}

.catalog-stats {
  @apply text-[10px] font-sans text-muted-foreground flex justify-center gap-1.5 leading-none mt-0.5;
}

.catalog-title {
  @apply text-[11px] font-bold text-primary truncate leading-tight px-1;
}

.catalog-snippet {
  @apply text-[10px] text-foreground/70 line-clamp-2 leading-snug px-1;
}

/* ============================================
   HAICHAN SIGNATURE LOGO - THEME COLOR + GREEN + PINK
   THE singular aesthetic identity of Haichan.
   Creatively blends THEME PRIMARY + NEON GREEN + HOT PINK!
   Each theme gets its own flavor while keeping the signature.
   ============================================ */

/* Logo color variables - overridden per theme */
:root {
  --logo-color-1: #34345C;    /* Theme primary (Yotsuba B blue) */
  --logo-color-2: #00FF00;    /* Neon Green */
  --logo-color-3: #FF00FF;    /* Neon Pink/Magenta */
  --logo-glow-1: rgba(52, 52, 92, 0.5);
  --logo-glow-2: rgba(0, 255, 0, 0.5);
  --logo-glow-3: rgba(255, 0, 255, 0.4);
}

/* Yotsuba (Orange) - Orange + Green + Pink */
[data-theme="yotsuba"] {
  --logo-color-1: #f07800;
  --logo-glow-1: rgba(240, 120, 0, 0.5);
}

/* Yotsuba B (Blue) - Blue + Green + Pink */
[data-theme="yotsuba-b"] {
  --logo-color-1: #3366CC;
  --logo-glow-1: rgba(51, 102, 204, 0.5);
}

/* Burichan (Deep Blue) - Deep Blue + Green + Pink */
[data-theme="burichan"] {
  --logo-color-1: #3c5a99;
  --logo-glow-1: rgba(60, 90, 153, 0.5);
}

/* Futaba (Forest Green) - Forest + Neon Green + Pink */
[data-theme="futaba"] {
  --logo-color-1: #2a6a2a;
  --logo-glow-1: rgba(42, 106, 42, 0.5);
}

/* Tomorrow (Slate Blue) - Slate + Green + Pink */
[data-theme="tomorrow"] {
  --logo-color-1: #5fa9ff;
  --logo-glow-1: rgba(95, 169, 255, 0.5);
}

/* Paper (Pure Black) - Black + Green + Pink */
[data-theme="paper"] {
  --logo-color-1: #000000;
  --logo-glow-1: rgba(0, 0, 0, 0.3);
}

/* Retro (Amber) - Amber + Green + Pink */
[data-theme="retro"] {
  --logo-color-1: #cc5200;
  --logo-glow-1: rgba(204, 82, 0, 0.5);
}

/* Photon (Blue) */
[data-theme="photon"] {
  --logo-color-1: #4A7CB5;
  --logo-glow-1: rgba(74, 124, 181, 0.5);
}

/* Gurochan (Dark Red) */
[data-theme="gurochan"] {
  --logo-color-1: #8B0000;
  --logo-color-2: #FF4444;
  --logo-glow-1: rgba(139, 0, 0, 0.6);
}

/* Pseud0ch (Blue/Yellow) */
[data-theme="pseud0ch"] {
  --logo-color-1: #2563EB;
  --logo-glow-1: rgba(37, 99, 235, 0.5);
}

/* Terminal (Green on black) */
[data-theme="terminal"] {
  --logo-color-1: #00FF00;
  --logo-color-2: #33FF33;
  --logo-color-3: #00DD00;
  --logo-glow-1: rgba(0, 255, 0, 0.7);
}

/* Spooky (Purple/Orange) */
[data-theme="spooky"] {
  --logo-color-1: #8B5CF6;
  --logo-color-2: #F97316;
  --logo-color-3: #A855F7;
  --logo-glow-1: rgba(139, 92, 246, 0.6);
}

/* Haichan (Neon Green dominant) - Extra green! */
[data-theme="haichan"] {
  --logo-color-1: #00FF00;
  --logo-color-2: #39FF14;
  --logo-color-3: #FF00FF;
  --logo-glow-1: rgba(0, 255, 0, 0.6);
  --logo-glow-2: rgba(57, 255, 20, 0.5);
}

/* Pink (Neon Pink dominant) - Extra pink! */
[data-theme="pink"] {
  --logo-color-1: #FF00FF;
  --logo-color-2: #00FF00;
  --logo-color-3: #FF1493;
  --logo-glow-1: rgba(255, 0, 255, 0.6);
  --logo-glow-3: rgba(255, 20, 147, 0.5);
}

.haichan-logo {
  font-family: 'Tahoma', 'Arial', sans-serif;
  font-weight: 700;
  font-size: 18px;
  letter-spacing: 0px;
  text-transform: lowercase;
  text-decoration: none;
  position: relative;
  display: inline-block;
  
  /* Green to pink gradient */
  background: linear-gradient(
    90deg,
    hsl(120 80% 35%) 0%,
    hsl(120 70% 45%) 30%,
    hsl(120 55% 65%) 60%,
    hsl(350 70% 80%) 100%
  );
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  
  /* Crisp text rendering */
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
  
  transition: opacity 0.2s ease;
}

.haichan-logo:hover {
  opacity: 0.8;
}

.redtext {
  color: #dd4444 !important;
}
/* ========================================
   ðŸŽ¨ BLACK & GREEN GRADIENT + PINK OUTLINE
   â˜…â˜…â˜… Haichan's new signature look â˜…â˜…â˜…
   BLACK = Deep, mysterious base
   NEON GREEN = Hacker energy
   PINK OUTLINE = Rebel accent
   ======================================== */
/* This section is commented out as the logo styling has been updated above */
/*
.haichan-logo {
  font-family: 'Impact', 'Arial Black', Tahoma, sans-serif;
  font-weight: 900;
  font-size: 28px;
  letter-spacing: -1px;
  text-transform: uppercase;
  text-decoration: none;
  position: relative;
  display: inline-block;
  
  background: linear-gradient(
    135deg,
    #000000 0%,
    #0a0a0a 15%,
    #00FF00 25%,
    #39FF14 35%,
    #111111 45%,
    #000000 55%,
    #00FF00 65%,
    #1a1a1a 75%,
    #000000 85%,
    #00FF00 100%
  );
  background-size: 300% 300%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  
  animation: haichan-gradient-flow 3s ease-in-out infinite;
  
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
  
  paint-order: stroke fill;
  filter: drop-shadow(0 0 6px #00FF0055);
  
  transition: filter 0.3s ease, transform 0.2s ease;
}

@keyframes haichan-gradient-flow {
  0% { background-position: 0% 0%; }
  50% { background-position: 100% 100%; }
  100% { background-position: 0% 0%; }
}

@keyframes haichan-gradient-pulse {
  0%, 100% { 
    background-position: 0% 50%; 
    filter: 
      drop-shadow(0 0 4px #00FF00)
      drop-shadow(0 0 8px #FF00FF);
  }
  50% { 
    background-position: 150% 50%; 
    filter: 
      drop-shadow(0 0 8px #FF00FF)
      drop-shadow(0 0 12px #00FF00);
  }
}

.haichan-logo:hover {
  animation: haichan-gradient-flow 1.5s linear infinite;
  filter: drop-shadow(0 0 12px #00FF00AA);
  cursor: pointer;
  transform: scale(1.02);
}

.haichan-logo:active {
  filter: drop-shadow(0 0 16px #00FF00);
  transform: scale(0.98);
}
*/

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground;
    font-family: var(--font-sans);
    font-size: 13px;
    line-height: 1.4;
    position: relative;
    transition: background-color 0.3s ease, color 0.3s ease;
    
    /* Dynamic background image support */
    background-image: var(--background-image, none);
    background-attachment: fixed;
    background-size: cover;
    background-position: center;
  }

  body::before {
    content: "";
    position: fixed;
    inset: 0;
    background-image: var(--background-image, none);
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
    z-index: -1;
    pointer-events: none;
  }

  /* Special handling for custom logo image */
  html[style*="--logo-image"] .haichan-logo::before {
    content: "";
    position: absolute;
    inset: 0;
    background-image: var(--logo-image);
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    z-index: 1;
  }

  html[style*="--logo-image"] .haichan-logo span {
    opacity: 0;
  }

  html[style*="--logo-image"] .haichan-logo {
    min-width: 150px;
    min-height: 44px;
  }

  /* Standard borders */
  button {
    @apply border border-border bg-transparent text-foreground;
    border-radius: var(--radius);
  }

  input,
  textarea,
  select {
    @apply border border-border bg-background text-foreground;
    border-radius: var(--radius);
  }

  .btn-haichan {
    @apply border border-primary bg-transparent text-primary px-4 py-2 hover:bg-primary hover:text-background transition-colors;
    border-radius: var(--radius);
  }

  /* Mining active indicator - subtle glow */
  .mining-active {
    box-shadow: 0 0 5px hsl(var(--primary));
  }

  /* Yotsuba-style post styling */
  .post-container {
    padding: 2px 4px;
    margin: 4px 0;
    font-size: 13px;
    background-color: transparent;
    border: none;
    color: hsl(var(--foreground));
    border-radius: 0;
  }

  .post-reply {
    padding: 2px;
    margin: 2px;
    background-color: hsl(var(--card));
    border: 1px solid hsl(var(--border) / 0.3);
    display: inline-block;
    min-width: 400px;
    max-width: 100%;
    border-radius: 0;
  }

  [data-theme="bw"] .post-reply {
    background-color: #f0f0f0;
    border: 1px solid #ccc;
  }

  [data-theme="yotsuba"] .post-reply {
    background-color: #f0e0d6;
    border: 1px solid #d9bfb7;
  }

  [data-theme="yotsuba-b"] .post-reply {
    background-color: #d6daf0;
    border: 1px solid #b7c5d9;
  }

  .post-header {
    font-size: 11px;
    margin-bottom: 2px;
    font-weight: normal;
    font-family: 'arial', 'helvetica', sans-serif;
  }

  .post-content {
    margin: 4px 8px;
    line-height: 1.4;
    font-size: 13px;
    color: hsl(var(--foreground));
  }


  .post-number {
    color: hsl(var(--foreground));
    font-weight: normal;
    text-decoration: none;
  }

  .post-number:hover {
    text-decoration: underline;
  }

  .post-date {
    color: hsl(var(--muted-foreground));
    font-size: 9pt;
  }

  .post-username {
    color: hsl(var(--primary));
    font-weight: bold;
    font-family: var(--font-serif), georgia, serif;
  }

  .post-tripcode {
    color: hsl(var(--muted));
    font-weight: normal;
  }

  /* 4chan-style navigation links */
  .nav-link {
    text-decoration: none;
    color: #00FF00;
    padding: 2px 8px;
    display: inline-block;
    border: 1px solid transparent;
  }

  .nav-link:hover {
    border-color: #00FF00;
    background-color: #00FF00;
    color: #000000;
  }

  /* Thread title styling */
  .thread-title {
    font-weight: bold;
    font-size: 11pt;
    color: hsl(var(--foreground));
    text-decoration: none;
  }

  .thread-title:hover {
    text-decoration: underline;
  }
}

@layer utilities {
  /* Yellow cursor with 1px black border for text inputs */
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="search"],
  input[type="url"],
  input[type="number"],
  textarea,
  [contenteditable="true"] {
    caret-color: hsl(var(--primary));
    caret-shape: block;
  }

  /* Focus state with yellow outline to simulate cursor border effect */
  input[type="text"]:focus,
  input[type="email"]:focus,
  input[type="password"]:focus,
  input[type="search"]:focus,
  input[type="url"]:focus,
  input[type="number"]:focus,
  textarea:focus,
  [contenteditable="true"]:focus {
    outline: 1px solid hsl(var(--primary));
    outline-offset: -1px;
  }

  /* Styling for text selection in input fields */
  input[type="text"]::selection,
  input[type="email"]::selection,
  input[type="password"]::selection,
  input[type="search"]::selection,
  input[type="url"]::selection,
  input[type="number"]::selection,
  textarea::selection,
  [contenteditable="true"]::selection {
    background-color: hsl(var(--primary) / 0.3);
    color: hsl(var(--primary-foreground));
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 14px;
    height: 14px;
  }

  ::-webkit-scrollbar-track {
    background: hsl(var(--background));
    border: 1px solid hsl(var(--foreground));
  }

  ::-webkit-scrollbar-thumb {
    background: hsl(var(--foreground));
    border: 1px solid hsl(var(--background));
  }

  ::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--primary) / 0.8);
  }

  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }
  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  /* 3D Slender UI Components - Removed for Yotsuba Style */
  .card-3d {
    @apply border-2 border-primary/20 bg-card shadow-sm transition-all;
  }

  .card-3d:hover {
    @apply border-primary/40 shadow-3d-sm;
  }

  .card-3d:active {
    /* No active effect */
  }

  .btn-3d {
    @apply border-2 border-primary bg-background text-primary px-3 py-1 text-[10px] font-black uppercase tracking-widest transition-all cursor-pointer shadow-sm;
  }

  .btn-3d:hover {
    @apply bg-primary text-background shadow-3d-sm translate-x-[1px] translate-y-[1px];
  }

  .btn-3d:active {
    @apply translate-x-[2px] translate-y-[2px] shadow-none;
  }

  /* Pink accent button variant */
  .btn-pink {
    @apply border px-2 py-0.5 text-xs font-bold transition-colors cursor-pointer;
    border-color: hsl(var(--accent));
    color: hsl(var(--accent));
    background: transparent;
  }

  .btn-pink:hover {
    background: hsl(var(--accent));
    color: hsl(var(--accent-foreground));
  }

  /* Neon Pink 3D Stutter Effect */
  @keyframes neon-stutter {
    0% { transform: translate(0, 0) skew(0deg); text-shadow: 3px 3px 0 #FF00FF; }
    2% { transform: translate(-2px, 1px) skew(-2deg); text-shadow: -3px 3px 0 #FF00FF; }
    4% { transform: translate(2px, -1px) skew(2deg); text-shadow: 3px -3px 0 #FF00FF; }
    6% { transform: translate(0, 2px) skew(0deg); text-shadow: -3px -3px 0 #FF00FF; }
    8% { transform: translate(0, 0) skew(0deg); text-shadow: 3px 3px 0 #FF00FF; }
    100% { transform: translate(0, 0) skew(0deg); text-shadow: 3px 3px 0 #FF00FF; }
  }

  .neon-pink-stutter {
    color: #000000;
    animation: neon-stutter 4s infinite steps(10);
  }

  .bg-scanline {
    background: linear-gradient(
      to bottom,
      transparent 50%,
      rgba(0, 0, 0, 0.1) 50%
    );
    background-size: 100% 4px;
  }

  .bg-grid-white {
    background-image: radial-gradient(circle, rgba(255, 255, 255, 0.1) 1px, transparent 1px);
    background-size: 20px 20px;
  }
}

/* ============================================
   ANAGLYPHIC 3D MODE (Red/Cyan Stereoscopic)
   ============================================
   Classic red/cyan 3D effect for viewing with
   anaglyph glasses. Creates depth illusion by
   offsetting color channels.
   ============================================ */

:root {
  --anaglyph-offset: 3px;
}

/* Main container styling when 3D mode is active */
.anaglyph-3d-mode {
  /* Add subtle scanlines for retro CRT effect */
  background-image: 
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(0, 0, 0, 0.03) 2px,
      rgba(0, 0, 0, 0.03) 4px
    );
}

/* Apply anaglyphic effect to main content areas */
.anaglyph-3d-mode .post-reply,
.anaglyph-3d-mode .card-3d,
.anaglyph-3d-mode [class*="Card"],
.anaglyph-3d-mode article,
.anaglyph-3d-mode .thread-container,
.anaglyph-3d-mode .chat-message {
  position: relative;
  transform-style: preserve-3d;
}

/* Create the red/cyan offset effect using pseudo-elements and text-shadow */
.anaglyph-3d-mode .post-content,
.anaglyph-3d-mode p:not(.no-3d),
.anaglyph-3d-mode h1:not(.no-3d),
.anaglyph-3d-mode h2:not(.no-3d),
.anaglyph-3d-mode h3:not(.no-3d),
.anaglyph-3d-mode h4:not(.no-3d),
.anaglyph-3d-mode span:not(.no-3d):not([class*="icon"]),
.anaglyph-3d-mode .thread-title,
.anaglyph-3d-mode .post-username,
.anaglyph-3d-mode label:not(.no-3d) {
  text-shadow: 
    calc(var(--anaglyph-offset) * -1) 0 0 rgba(255, 0, 0, 0.7),
    var(--anaglyph-offset) 0 0 rgba(0, 255, 255, 0.7);
  animation: anaglyph-flicker 0.1s infinite alternate;
}

/* Stronger effect for headings */
.anaglyph-3d-mode h1,
.anaglyph-3d-mode h2,
.anaglyph-3d-mode .haichan-logo span {
  text-shadow: 
    calc(var(--anaglyph-offset) * -1.5) 0 0 rgba(255, 0, 0, 0.8),
    calc(var(--anaglyph-offset) * 1.5) 0 0 rgba(0, 255, 255, 0.8);
}

/* Image anaglyphic effect using filters */
.anaglyph-3d-mode img:not(.no-3d),
.anaglyph-3d-mode video:not(.no-3d),
.anaglyph-3d-mode canvas:not(.no-3d) {
  position: relative;
  filter: url(#anaglyph-filter);
}

/* Box shadow effect for cards and containers */
.anaglyph-3d-mode .post-reply,
.anaglyph-3d-mode [class*="Card"]:not(.no-3d),
.anaglyph-3d-mode .card-3d,
.anaglyph-3d-mode button:not(.no-3d),
.anaglyph-3d-mode .btn-3d {
  box-shadow: 
    calc(var(--anaglyph-offset) * -1) 0 0 rgba(255, 0, 0, 0.3),
    var(--anaglyph-offset) 0 0 rgba(0, 255, 255, 0.3),
    var(--shadow-3d-sm);
}

/* Border effect for depth */
.anaglyph-3d-mode .border,
.anaglyph-3d-mode [class*="border-"] {
  position: relative;
}

.anaglyph-3d-mode .border::before,
.anaglyph-3d-mode .post-reply::before {
  content: '';
  position: absolute;
  inset: -1px;
  border: 1px solid rgba(255, 0, 0, 0.4);
  transform: translateX(calc(var(--anaglyph-offset) * -0.5));
  pointer-events: none;
  z-index: -1;
}

.anaglyph-3d-mode .border::after,
.anaglyph-3d-mode .post-reply::after {
  content: '';
  position: absolute;
  inset: -1px;
  border: 1px solid rgba(0, 255, 255, 0.4);
  transform: translateX(calc(var(--anaglyph-offset) * 0.5));
  pointer-events: none;
  z-index: -1;
}

/* Subtle flicker animation for authentic retro feel */
@keyframes anaglyph-flicker {
  0% {
    text-shadow: 
      calc(var(--anaglyph-offset) * -1) 0 0 rgba(255, 0, 0, 0.7),
      var(--anaglyph-offset) 0 0 rgba(0, 255, 255, 0.7);
  }
  100% {
    text-shadow: 
      calc(var(--anaglyph-offset) * -1.05) 0.5px 0 rgba(255, 0, 0, 0.65),
      calc(var(--anaglyph-offset) * 1.05) -0.5px 0 rgba(0, 255, 255, 0.65);
  }
}

/* Pulsing glow for interactive elements in 3D mode */
@keyframes anaglyph-pulse {
  0%, 100% {
    box-shadow: 
      calc(var(--anaglyph-offset) * -1) 0 0 rgba(255, 0, 0, 0.4),
      var(--anaglyph-offset) 0 0 rgba(0, 255, 255, 0.4);
  }
  50% {
    box-shadow: 
      calc(var(--anaglyph-offset) * -1.5) 0 4px rgba(255, 0, 0, 0.6),
      calc(var(--anaglyph-offset) * 1.5) 0 4px rgba(0, 255, 255, 0.6);
  }
}

.anaglyph-3d-mode button:hover:not(.no-3d),
.anaglyph-3d-mode .btn-3d:hover,
.anaglyph-3d-mode a:hover:not(.no-3d) {
  animation: anaglyph-pulse 0.5s ease-in-out infinite;
}

/* Icon styling - keep icons cleaner but still 3D */
.anaglyph-3d-mode svg:not(.no-3d) {
  filter: drop-shadow(calc(var(--anaglyph-offset) * -0.5) 0 0 rgba(255, 0, 0, 0.5))
          drop-shadow(calc(var(--anaglyph-offset) * 0.5) 0 0 rgba(0, 255, 255, 0.5));
}

/* 3D mode indicator badge */
.anaglyph-3d-badge {
  position: fixed;
  bottom: 80px;
  right: 16px;
  background: linear-gradient(90deg, rgba(255, 0, 0, 0.8), rgba(0, 255, 255, 0.8));
  color: #ffffff;
  font-size: 10px;
  font-family: var(--font-mono);
  font-weight: bold;
  padding: 4px 8px;
  border: 2px solid rgba(255, 255, 255, 0.5);
  z-index: 9999;
  text-shadow: 1px 1px 0 black;
  animation: anaglyph-badge-pulse 2s infinite;
}

@keyframes anaglyph-badge-pulse {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.05);
  }
}

/* Reduced motion preference - disable animations but keep effect */
@media (prefers-reduced-motion: reduce) {
  .anaglyph-3d-mode .post-content,
  .anaglyph-3d-mode p:not(.no-3d),
  .anaglyph-3d-mode h1:not(.no-3d),
  .anaglyph-3d-mode h2:not(.no-3d),
  .anaglyph-3d-mode h3:not(.no-3d),
  .anaglyph-3d-mode span:not(.no-3d),
  .anaglyph-3d-mode button:hover:not(.no-3d),
  .anaglyph-3d-mode .btn-3d:hover,
  .anaglyph-3d-mode a:hover:not(.no-3d),
  .anaglyph-3d-badge {
    animation: none;
  }
}

/* Exclude certain elements from 3D effect */
.no-3d,
.no-3d * {
  text-shadow: none !important;
  filter: none !important;
  box-shadow: none !important;
}

.anaglyph-3d-mode input,
.anaglyph-3d-mode textarea,
.anaglyph-3d-mode select {
  text-shadow: none;
}

/* 3D toggle button styling */
.btn-3d-toggle {
  background: linear-gradient(90deg, #ff0000, #00ffff);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  font-weight: bold;
  border: 2px solid;
  border-image: linear-gradient(90deg, #ff0000, #00ffff) 1;
  transition: all 0.2s ease;
}

.btn-3d-toggle:hover {
  transform: scale(1.05);
  box-shadow: 
    -2px 0 4px rgba(255, 0, 0, 0.5),
    2px 0 4px rgba(0, 255, 255, 0.5);
}

.btn-3d-toggle.active {
  background: linear-gradient(90deg, #00ffff, #ff0000);
  -webkit-background-clip: text;
  background-clip: text;
}